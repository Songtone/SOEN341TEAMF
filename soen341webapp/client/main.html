<head>

    <title>MakerHub</title>

    <link href="https//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body class =" blue-grey lighten-4"> <!-- this is the color for the entire background-->

{{> nav }}

<div class="searchBar center">
{{> search }}
</div>


<div class="container">
    <div class="feature center">
        FEATURED REQUESTS
    </div>
    <ul class="collection">
        {{#each posts}} <!-- this is connecting to nodes from main.js file function , loop over items-->
            <div class="row">
                <div class="col s8">
                    <div class="card blue lighten-1 medium">
                        <div class="card-content black-text">
                            <!--<h5>{{category}}</h5>-->
                            <div class="titleCard orange darken-1">
                                <div class="col s2">
                                    <img src="https://t3.ftcdn.net/jpg/01/17/38/06/500_F_117380631_jx6tY1M9aa4GJUPQr0tdw1eJa23JK31u.jpg"
                                         alt="" class="circle responsive-img"><!--adding a picture to the cards-->
                                </div>
                                <h4 class="card-title">{{title}}</h4><!--title of the card-->
                            </div>
                            <div class="description blue lighten-5">
                                <div class="container">
                                    <p>{{desc}}</p><!--description of the card-->
                                    <br>
                                    <br>
                                </div>
                                <br>
                                <br>
                                <br>
                                <p class="black-text center">post by {{userId}}</p><!--user who added this card-->
                                <p>{{createdAt}}</p><!--time the card was created-->

                            </div>
                        </div>
                        <div class="card-action blue darken-4">
                            <a href="#">I also want this</a>
                            <a href="#">I will make this</a>
                        </div>

                    </div>
                </div>
            </div>
        {{/each}}
    </ul>
</div>



  {{> footer }}
  {{> addPost}} <!-- add post modal template -->


 <script>
  $(document).ready(function(){
    $('.modal').modal();
  });

  $(document).ready(function() {
    $('select').material_select();
  });

  function CategoryChange() {
    var categoriesvar = document.getElementById("category");
    var value = categoriesvar.options[categoriesvar.selectedIndex].value;
     if (value == "Prop") {
       $("#subcategory").attr("placeholder", "Specify your prop's desired material").val("").focus().blur();


     } else if (value == "Software") {
       $("#subcategory").attr("placeholder", "Specify your project's programming language").val("").focus().blur();


     } else if (value == "Arts") {
       $("#subcategory").attr("placeholder", "Specify the type of art you are looking for").val("").focus().blur();


     }
   };


 </script>

 </body>

<!------------------------------Templates (to put in separate folder)------------------------------------>

<Template name="nav">
  <nav class="blue darken-3">
    <div class="container">
      <div class="nav-wrapper">

        <a href="#" class="brand-logo center">MakerHub</a>

          <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li class="nav-item">
                  {{> loginButtons}}
              </li>
          </ul>

          <!--if you are logged in, you can see the add post button -->
          {{#if currentUser}}
          <a class="waves-effect waves-light btn modal-trigger" href="#addPost">Add a Want</a>
          {{else}}
          <p>Please login to Add a Want</p>
          {{/if}}


      </div>
    </div>
  </nav>
</Template>

<!--Templete for Search-->

<Template name="search">
  <form>
    <div class="container">
      <div class="input-field">
        <input placeholder="search" id="search" type="search" required>
        <label class="label-icon" for="search"><i class="material-icons"></i></label>
        <i class="material-icons">close</i>
      </div>
      <div class="input-field col s6">
        <select id="categorysearch">
          <option value="" disabled selected>Choose a category</option>
          <option value="Arts">Arts</option>
          <option value="Prop">Prop</option>
          <option value="Software">Software</option>
        </select>
      </div>
    </div>
  </form>

</Template>


<!--Templete for footer -->

<Template name="footer">
  <footer class="page-footer blue darken-3">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">MakerHub</h5>
          <p class="grey-text text-lighten-4">About</p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text">Information</h5>
          <ul>
            <li><a class="grey-text text-lighten-3" href="#!">Terms of use</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Privacy Policy</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Help</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Team Members</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
        ï¿½ 2017 Copyright MakerHub
        <a class="grey-text text-lighten-4 right" href="#!">Site powered by Meteor</a>
      </div>
    </div>
  </footer>
</Template>


<Template name="addPost">
  <div id="addPost" class="modal">
    <div class="modal-content">
      <h3 class="card-panel">New Want</h3>
      <form class ="add-form card-panel">
        <div class="input-field col s6">
          <select id="category" onchange="CategoryChange()" >
            <option value="" disabled selected>Choose a category</option>
            <option value="Arts">Arts</option>
            <option value="Prop">Prop</option>
            <option value="Software">Software</option>
          </select>
          <label>Category</label>
        </div>
        <div class="input-field col s6">
          <input placeholder="Please choose a main category first" id="subcategory" type="text" class="validate">
          <label for="subcategory" id="subcategoryinfo">Want SubCategory</label >
        </div>
        <div class="input-field col s6">
          <input placeholder="what do you want?" id="title" type="text" class="validate">
          <label for="title">Want Title</label>
        </div>
        <div class="input-field col s6">
          <textarea placeholder="Try to be as descriptive as possible" id="desc" class="materialize-textarea"></textarea>
          <label for="desc">Description</label>
        </div>
        <input class="waves-effect waves-light btn" type="submit" id="submit"/>
      </form>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
      </div>
    </div>
  </div>
</Template>
