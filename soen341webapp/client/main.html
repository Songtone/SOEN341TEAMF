<head>
  <title>MakerHub</title>
  <link href="https//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body class=" blue-grey lighten-4">
  <!-- this is the color for the entire background-->



  {{> nav }} {{> search }}


  <div class="container">
    <h6>Inserted Database Items :</h6>
    <ul class="collection">
      {{#each posts}}
      <!-- this is connecting to nodes from main.js file function , loop over items-->
      <div class="row">
        <div class="col m4">
          <div class="card light-blue darken-3">
            <div class="card-content white-text">
              <h5>{{category}}</h5>
              <h4 class="card-title">{{title}}</h4>
              <p>{{desc}}</p>
              <br>
              <p class="black-text">post by {{userId}}</p>
              <br>
              <p>{{createdAt}}</p>
            </div>
            <div class="card-action">
              <a href="#">I also want this</a>
              <a href="#">I will make this</a>
            </div>
          </div>
        </div>
      </div>




      {{/each}}
    </ul>
  </div>
  {{> footer }} {{> addPost}}
  <!-- add post modal template -->
  <script>
    $(document).ready(function() {
      $('.modal').modal();
    });

    $(document).ready(function() {
      $('select').material_select();
    });

    function CategoryChange() {
      var y = document.getElementById("plid");
      for (var i = 0; i < 8; i++) {
        if (y.length > 1) {
          y.remove(y.length - 1);
        }
      }
      var categoriesvar = document.getElementById("category");
      var value = categoriesvar.options[categoriesvar.selectedIndex].value;
      if (value == "Prop") {
        dropdownforprop();

      } else if (value == "Software") {
        dropdownforsoft();

      } else if (value == "Arts") {
        dropdownforarts();
        
      }
    };

    function dropdownforprop() {
      var select = document.getElementById('plid');
      select.options[0].innerHTML = "What type of prop are you looking for?";
      select.options[select.options.length] = new Option('Electronic', 'Electronic');
      select.options[select.options.length] = new Option('Wooden', 'Wooden');
      select.options[select.options.length] = new Option('Metal', 'Metal');
      select.options[select.options.length] = new Option('Clothes', 'Clothes');
    }

    function dropdownforsoft() {
      var select = document.getElementById('plid');
      select.options[0].innerHTML = "What language are you looking for?";
      select.options[select.options.length] = new Option('Assembly', 'Assembly');
      select.options[select.options.length] = new Option('C#', 'C#');
      select.options[select.options.length] = new Option('C++', 'C++');
      select.options[select.options.length] = new Option('Java', 'Java');
      select.options[select.options.length] = new Option('JavaScript', 'JavaScript');
      select.options[select.options.length] = new Option('Ruby', 'Ruby');
      select.options[select.options.length] = new Option('Python', 'Python');
      select.options[select.options.length] = new Option('VHDL', 'VHDL');
    }

    function dropdownforarts() {
      var select = document.getElementById('plid');
      select.options[0].innerHTML = "What type of arts are you looking for?";
      select.options[select.options.length] = new Option('Music', 'Music');
      select.options[select.options.length] = new Option('Painting', 'Painting');
      select.options[select.options.length] = new Option('Poster', 'Poster');
      select.options[select.options.length] = new Option('Sculptures', 'Sculptures');

    }
  </script>

</body>

<!------------------------------Templates (to put in seperate folder)------------------------------------>


<Template name="nav">
  <nav class="blue darken-3">
    <div class="container">
      <div class="nav-wrapper">

          <a href="#" class="brand-logo center">MakerHub</a>

          <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li class="nav-item">
                  {{> loginButtons}}
              </li>
          </ul>
          <a class="waves-effect waves-light btn modal-trigger" href="#addPost">Add a Want</a>

      </div>
    </div>
  </nav>
</Template>









<Template name="search">
    <form>
        <div class="container">

        <div class="input-field">

            <input placeholder="search" id="search" type="search" required>
            <label class="label-icon" for="search"><i class="material-icons"></i></label>
            <i class="material-icons">close</i>

        </div>
        </div>
    </form>
</Template>










<Template name="footer">
    <footer class="page-footer blue darken-3">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">MakerHub</h5>
                    <p class="grey-text text-lighten-4">About</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Information</h5>
                    <ul>
                        <li><a class="grey-text text-lighten-3" href="#!">Terms of use</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">Privacy Policy</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">Help</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">Team Members</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                ï¿½ 2017 Copyright MakerHub
                <a class="grey-text text-lighten-4 right" href="#!">Site powered by Meteor</a>
            </div>
        </div>
    </footer>
</Template>









<Template name="addPost">
  <div id="addPost" class="modal">
    <div class="modal-content">

        <h3 class="card-panel">New Want</h3>

        <form class ="add-form card-panel">
            <div class="input-field col s6">
              <select id="category" name="Categories" onchange="CategoryChange()">
                <option value="" disabled selected>Choose a category</option>
                <option value="Arts">Arts</option>
                <option value="Prop">Prop</option>
                <option value="Software">Software</option>
              </select>
              <label>Category</label>
            </div>

            <div class="input-field col s6">
              <select id="plid" >
                <option value="" disabled selected>You must choose a category first</option>
              </select>
              <label id="subcategorylabel">Sub-Category</label>
            </div>
            <div class="input-field col s6" id="">
              <input placeholder="what do you want?" id="title" type="text" class="validate">
              <label id="titlelabel" for="title">Want Title</label>
            </div>

            <div class="input-field col s6">
              <textarea placeholder="Try to be as descriptive as possible" id="desc" class="materialize-textarea"></textarea>
              <label id="desclabel" for="desc">Description</label>
            </div>

            <input class="waves-effect waves-light btn" type="submit" id="submit"/>
        </form>

        <div class="modal-footer">
          <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>

    </div>
  </div>


</Template>
